(this.webpackJsonpmap_distance_measurement=this.webpackJsonpmap_distance_measurement||[]).push([[0],{29:function(e,t,n){e.exports=n(42)},38:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a),c=n(16),i=n.n(c),r=n(11),l=n(10),u=n(23),s=n(8),d={allPoints:[],mapPoint:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POINT":return console.log("Selected coordinates",t.payload),Object(s.a)(Object(s.a)({},e),{},{allPoints:[].concat(Object(u.a)(e.allPoints),[t.payload]),mapPoint:[].concat(Object(u.a)(e.mapPoint),[t.newObj])});default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MEASURE_DISTANCE":return console.log("Current distance",t.payload),Object(s.a)(Object(s.a)({},e),{},{distance:t.payload});default:return e}},b=Object(l.b)({pointReducer:m,distanceReducer:p}),y=(n(38),n(22)),g=n(12),f=n(28),j=function(e,t){var n=Object(a.useRef)(!0);Object(a.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)};n(40),n(41);var h=function(){var e=Object(a.useState)({width:"100wv",height:"100vh",latitude:54.685297,longitude:25.287274,zoom:12}),t=Object(y.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),l=Object(y.a)(i,2),u=l[0],d=l[1],m=Object(r.b)(),p=Object(r.c)((function(e){return e.pointReducer})),b=Object(r.c)((function(e){return e.distanceReducer.distance})),h=[{type:"Feature",geometry:{type:"LineString",coordinates:u}}];p.mapPoint.map((function(e){return h.push(e)}));var O={type:"FeatureCollection",features:h};return O.features[0].geometry.coordinates.length>1&&m({type:"MEASURE_DISTANCE",payload:f.length(O.features[0])}),j((function(){d(p.allPoints)}),[p]),o.a.createElement("div",{className:"mapContainer"},o.a.createElement(g.d,Object.assign({},n,{mapboxApiAccessToken:"pk.eyJ1IjoibW9waXhlbHMiLCJhIjoiY2tmbTlyaWE3MGFlYjJybnhuY3c1OGsxZSJ9.TnVyumVg-4UZmdqYRtBj8g",mapStyle:"mapbox://styles/mopixels/ckfmbcvun0jhk19nkgbh79tow",onClick:function(e){return function(e){var t,n=[e.lngLat[0],e.lngLat[1]];m({type:"ADD_POINT",payload:t=n,newObj:{type:"Feature",geometry:{type:"Point",coordinates:t}}})}(e)},onViewportChange:function(e){c(Object(s.a)(Object(s.a)({},n),{},{latitude:e.latitude,longitude:e.longitude,zoom:e.zoom}))}}),o.a.createElement(g.c,{id:"point",type:"geojson",data:O},o.a.createElement(g.b,{id:"measure-points",type:"circle",source:"geojson",paint:{"circle-radius":5,"circle-color":"#000"},filter:["in","$type","Point"]}),o.a.createElement(g.b,{id:"measure-lines",type:"line",source:"geojson",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#000","line-width":3.5},filter:["in","$type","LineString"]})),b>0&&o.a.createElement("div",{className:"distance-container"},"Total distance: ",b.toFixed(2)," km")),o.a.createElement("div",{className:"fullScreenButton"},o.a.createElement(g.a,{container:document.querySelector("body")})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=Object(l.c)(b);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(r.a,{store:O},o.a.createElement(h,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.13200def.chunk.js.map